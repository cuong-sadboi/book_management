<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Login - Book Management</title>
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
	<style>
		body {
			background: linear-gradient(135deg, #667eea 0%, #ffffff 100%);
			min-height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}
		.login-card {
			max-width: 420px;
			width: 100%;
			border-radius: 16px;
			overflow: hidden;
			box-shadow: 0 20px 60px rgba(0,0,0,0.3);
		}
		.login-header {
			background: linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%);
			padding: 2.5rem 2rem;
			text-align: center;
			color: white;
		}
		.login-header svg {
			filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
		}
		.login-body {
			padding: 2rem;
			background: white;
		}
		.form-control:focus {
			border-color: #0d6efd;
			box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.15);
		}
		.btn-login {
			background: linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%);
			border: none;
			padding: 0.75rem;
			font-weight: 600;
			transition: all 0.3s;
		}
		.btn-login:hover {
			background: linear-gradient(135deg, #0b5ed7 0%, #0a58ca 100%);
			transform: translateY(-2px);
			box-shadow: 0 4px 12px rgba(13, 110, 253, 0.4);
		}
		.input-group-text {
			background: #f8f9fa;
			border-right: 0;
		}
		.form-control {
			border-left: 0;
		}
	</style>
</head>
<body>
	<div class="card login-card border-0">
		<div class="login-header">
			<svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" fill="currentColor" class="mb-3" viewBox="0 0 16 16">
				<path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
			</svg>
			<h3 class="mb-1 fw-bold">BookUI</h3>
			<p class="mb-0 opacity-90">Login to continue</p>
		</div>
		<div class="login-body">
			<form id="loginForm">
				<div class="mb-3">
					<label for="email" class="form-label fw-semibold">Email</label>
					<div class="input-group">
						<span class="input-group-text">
							<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
								<path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>
							</svg>
						</span>
						<input type="email" class="form-control" id="email" placeholder="admin@gmail.com" required autofocus>
					</div>
				</div>
				<div class="mb-3">
					<label for="password" class="form-label fw-semibold">Password</label>
					<div class="input-group">
						<span class="input-group-text">
							<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
								<path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
							</svg>
						</span>
						<input type="password" class="form-control" id="password" placeholder="••••••••" required>
					</div>
				</div>
				<div class="mb-3 form-check">
					<input type="checkbox" class="form-check-input" id="rememberMe">
					<label class="form-check-label" for="rememberMe">Remember me</label>
				</div>
				<div id="loginError" class="alert alert-danger d-none mb-3"></div>
				<button type="submit" class="btn btn-primary btn-login w-100">
					<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="me-2 mb-1" viewBox="0 0 16 16">
						<path fill-rule="evenodd" d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"/>
						<path fill-rule="evenodd" d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
					</svg>
					Login
				</button>
			</form>
			<div class="text-center mt-4">
				<small class="text-muted">
					<strong>Demo account:</strong><br>
					admin@example.com / admin123
				</small>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		(() => {
			const AUTH_KEY = 'book_management_auth';
			
			// Check if already logged in
			const auth = localStorage.getItem(AUTH_KEY);
			if (auth) {
				window.location.href = 'dashboard.html';
				return;
			}
			
			const form = document.getElementById('loginForm');
			const errorEl = document.getElementById('loginError');
			
			// Demo users (trong production sẽ call API thật)
			const demoUsers = [
				{ email: 'admin@gmail.com', password: 'admin123', name: 'Admin', role: 'admin' },
				{ email: 'staff@gmail.com', password: 'staff123', name: 'Staff', role: 'staff' }
			];
			
			form.addEventListener('submit', async (e) => {
				e.preventDefault();
				
				const email = document.getElementById('email').value.trim();
				const password = document.getElementById('password').value;
				const rememberMe = document.getElementById('rememberMe').checked;
				
				errorEl.classList.add('d-none');
				
				const submitBtn = form.querySelector('button[type="submit"]');
				const originalHTML = submitBtn.innerHTML;
				submitBtn.disabled = true;
				submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>Logging in...';
				
				try {
					// Simulate API call
					await new Promise(resolve => setTimeout(resolve, 800));
					
					const user = demoUsers.find(u => u.email === email && u.password === password);
					
					if (user) {
						// Save auth data
						const authData = {
							id: Date.now(),
							email: user.email,
							name: user.name,
							role: user.role,
							loginTime: new Date().toISOString(),
							rememberMe: rememberMe
						};
						
						localStorage.setItem(AUTH_KEY, JSON.stringify(authData));
						
						// Show success and redirect
						submitBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="me-2" viewBox="0 0 16 16"><path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/></svg>Success!';
						
						setTimeout(() => {
							window.location.href = 'dashboard.html';
						}, 500);
					} else {
						throw new Error('Email or password is incorrect');
					}
				} catch (error) {
					errorEl.textContent = error.message;
					errorEl.classList.remove('d-none');
					submitBtn.disabled = false;
					submitBtn.innerHTML = originalHTML;
				}
			});
		})();
	</script>
</body>
</html>
